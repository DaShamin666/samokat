# üè∑Ô∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∞—Ä–∫–∞–º pytest

## üìä –û–±–∑–æ—Ä –º–∞—Ä–æ–∫

–í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä–∫–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤:

### üî• `@pytest.mark.smoke`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è smoke testing (–±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- ‚ö° –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (–æ–±—ã—á–Ω–æ < 2 —Å–µ–∫—É–Ω–¥)
- üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- üîç –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- üöÄ –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ CI/CD –Ω–∞ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ

### üîÑ `@pytest.mark.regression`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª–Ω—ã–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–¥–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**:
- üìã –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- üîÑ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- üß™ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- üìà –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –ø–æ–ª–Ω–æ–º —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–º —Ü–∏–∫–ª–µ

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

### Smoke —Ç–µ—Å—Ç—ã: **9 —Ç–µ—Å—Ç–æ–≤**
```
‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ–±–µ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫–∞–∑–∞ (2 —Ç–µ—Å—Ç–∞)
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö (1 —Ç–µ—Å—Ç)  
‚úÖ –ö–ª–∏–∫–∏ –ø–æ FAQ –∞–∫–∫–æ—Ä–¥–µ–æ–Ω—É (1 —Ç–µ—Å—Ç)
‚úÖ –í–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫ –∑–∞–∫–∞–∑–∞ (1 —Ç–µ—Å—Ç)
‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ–æ—Ä–º–µ –∑–∞–∫–∞–∑–∞ (2 —Ç–µ—Å—Ç–∞)
‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –≤–µ—Ä—Ö/–Ω–∏–∑ (2 —Ç–µ—Å—Ç–∞)
```

### Regression —Ç–µ—Å—Ç—ã: **39 —Ç–µ—Å—Ç–æ–≤**
```
‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–Ω–æ–ø–æ–∫ (1 —Ç–µ—Å—Ç)
‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ FAQ –∫–Ω–æ–ø–∫–∏ (8 —Ç–µ—Å—Ç–æ–≤)
‚úÖ –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ (2 —Ç–µ—Å—Ç–∞)
‚úÖ –†–∞–∑–Ω—ã–µ —Å—Ç–∞–Ω—Ü–∏–∏ –º–µ—Ç—Ä–æ (8 —Ç–µ—Å—Ç–æ–≤)
‚úÖ –†–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –∞—Ä–µ–Ω–¥—ã (8 —Ç–µ—Å—Ç–æ–≤)
‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã (1 —Ç–µ—Å—Ç)
‚úÖ –†–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (6 —Ç–µ—Å—Ç–æ–≤)
‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º (5 —Ç–µ—Å—Ç–æ–≤)
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞

### Smoke —Ç–µ—Å—Ç—ã (–±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö smoke —Ç–µ—Å—Ç–æ–≤
python3 -m pytest -m smoke -v

# Smoke —Ç–µ—Å—Ç—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
python3 -m pytest -m smoke -v --tb=short

# –¢–æ–ª—å–∫–æ —Å–±–æ—Ä smoke —Ç–µ—Å—Ç–æ–≤ (–±–µ–∑ –∑–∞–ø—É—Å–∫–∞)
python3 -m pytest --collect-only -m smoke -q
```

### Regression —Ç–µ—Å—Ç—ã (–ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö regression —Ç–µ—Å—Ç–æ–≤
python3 -m pytest -m regression -v

# Regression —Ç–µ—Å—Ç—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏
python3 -m pytest -m regression --maxfail=3 -v

# –¢–æ–ª—å–∫–æ —Å–±–æ—Ä regression —Ç–µ—Å—Ç–æ–≤
python3 -m pytest --collect-only -m regression -q
```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏
```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ smoke —Ç–µ—Å—Ç–æ–≤ (–∏—Å–∫–ª—é—á–∞—è regression)
python3 -m pytest -m "smoke and not regression" -v

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∫—Ä–æ–º–µ regression
python3 -m pytest -m "not regression" -v

# –ó–∞–ø—É—Å–∫ –∏ smoke, –∏ regression
python3 -m pytest -m "smoke or regression" -v

# –í—Å–µ —Ç–µ—Å—Ç—ã –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
python3 -m pytest -v
```

## üìã –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä–æ–∫ –ø–æ —Ñ–∞–π–ª–∞–º

### `test_buttons_demo.py`
- ‚úÖ **Smoke**: `test_both_buttons_navigation_demo`, `test_buttons_text`
- üîÑ **Regression**: `test_buttons_lead_to_same_form`

### `test_click_on_button_text_visible.py`
- ‚úÖ **Smoke**: `test_click_all_accordion_buttons_and_check_text_visibility`
- üîÑ **Regression**: `test_individual_accordion_button` (8 –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)

### `test_full_order_path.py`
- ‚úÖ **Smoke**: `test_both_order_buttons_visibility`, `test_navigation_to_order_form`
- üîÑ **Regression**: –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏ –∑–∞–∫–∞–∑–∞

### `test_order_page.py`
- ‚úÖ **Smoke**: `test_order_button_top_navigation`, `test_order_button_bottom_navigation`
- üîÑ **Regression**: `test_fill_order_form_step1_random_user`, `test_complete_order_flow`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest.ini

```ini
[pytest]
markers =
    smoke: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è smoke testing (–±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)
    regression: –ø–æ–ª–Ω—ã–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–¥–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)
    
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    -v
    --strict-markers
    --tb=short
    --durations=10
```

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Development)
```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
python3 -m pytest -m smoke

# –†–µ–∑—É–ª—å—Ç–∞—Ç: 9 —Ç–µ—Å—Ç–æ–≤ –∑–∞ ~10 —Å–µ–∫—É–Ω–¥
```

### Pre-commit —Ö—É–∫–∏
```bash
# –í —Ö—É–∫–µ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
python3 -m pytest -m smoke --maxfail=1

# –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
```

### Pull Request –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –ü–æ–ª–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è –¥–ª—è PR
python3 -m pytest -m regression

# –†–µ–∑—É–ª—å—Ç–∞—Ç: 39 —Ç–µ—Å—Ç–æ–≤ –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### Release –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
python3 -m pytest

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ 65 —Ç–µ—Å—Ç–æ–≤
```

## üìä –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –ú–∞—Ä–∫–∞ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-------|------------|---------------|------------|
| **smoke** | 9 —Ç–µ—Å—Ç–æ–≤ | ~10 —Å–µ–∫ | –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |
| **regression** | 39 —Ç–µ—Å—Ç–æ–≤ | ~60+ —Å–µ–∫ | PR –∏ —Ä–µ–ª–∏–∑ |
| **–≤—Å–µ —Ç–µ—Å—Ç—ã** | 65 —Ç–µ—Å—Ç–æ–≤ | ~90+ —Å–µ–∫ | –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä–æ–∫

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–∞—Ä–∫–∏
python3 -m pytest --markers

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ smoke —Ç–µ—Å—Ç–æ–≤
python3 -m pytest --collect-only -m smoke -q | grep selected

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ regression —Ç–µ—Å—Ç–æ–≤  
python3 -m pytest --collect-only -m regression -q | grep selected
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã –º–∞—Ä–æ–∫

1. **üöÄ –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å —Å smoke —Ç–µ—Å—Ç–∞–º–∏
2. **üéØ –ì–∏–±–∫–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞**: –í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤
3. **üìä –Ø—Å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ü–æ–Ω—è—Ç–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏
4. **üîÑ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤
5. **üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ä–∫–∏ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞

## üéâ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
python3 -m pytest -m smoke -v

# –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
python3 -m pytest -m smoke --tb=short

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PR
python3 -m pytest -m regression -v

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ª–∏–∑–∞
python3 -m pytest -v

# –û—Ç–ª–∞–¥–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–∞—Ä–∫–∏
python3 -m pytest -m smoke --pdb -s
```

–°–∏—Å—Ç–µ–º–∞ –º–∞—Ä–æ–∫ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéØ
