# üõ¥ Samokat E2E Testing Framework

[![üß™ Automated Testing](https://github.com/username/samokat-tests/actions/workflows/tests.yml/badge.svg)](https://github.com/username/samokat-tests/actions/workflows/tests.yml)
[![üåô Nightly Tests](https://github.com/username/samokat-tests/actions/workflows/nightly.yml/badge.svg)](https://github.com/username/samokat-tests/actions/workflows/nightly.yml)

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Samokat —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Playwright –∏ pytest.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repo-url>
cd samokat-tests

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤
playwright install
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (smoke —Ç–µ—Å—Ç—ã)
python -m pytest -m smoke -v

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (regression)
python -m pytest -m regression -v

# –í—Å–µ —Ç–µ—Å—Ç—ã
python -m pytest -v
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

- **üî• Smoke Tests**: 9 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ (~10 —Å–µ–∫)
- **üîÑ Regression Tests**: 39 –ø–æ–ª–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (~30 –º–∏–Ω)
- **üéØ Total Coverage**: 65 —Ç–µ—Å—Ç–æ–≤ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## üé≠ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã

- ‚úÖ Chromium
- ‚úÖ Firefox  
- ‚úÖ WebKit (Safari)

## üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫–∞–∑–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–µ–∏—Ö –∫–Ω–æ–ø–æ–∫ "–ó–∞–∫–∞–∑–∞—Ç—å" (–≤–µ—Ä—Ö–Ω—è—è/–Ω–∏–∂–Ω—è—è)
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ–æ—Ä–º–µ –∑–∞–∫–∞–∑–∞
- ‚úÖ –í–∏–¥–∏–º–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### FAQ –∞–∫–∫–æ—Ä–¥–µ–æ–Ω
- ‚úÖ –ö–ª–∏–∫–∏ –ø–æ –≤—Å–µ–º 8 –∫–Ω–æ–ø–∫–∞–º FAQ
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏

### –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞
- ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—ã–±–æ—Ä —Å—Ç–∞–Ω—Ü–∏–π –º–µ—Ç—Ä–æ
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –∞—Ä–µ–Ω–¥—ã
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –†–∞–Ω–¥–æ–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (Faker)
- ‚úÖ –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îú‚îÄ‚îÄ .github/workflows/     # CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ pages/                # Page Object Model
‚îú‚îÄ‚îÄ tests/                # –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏  
‚îú‚îÄ‚îÄ conftest.py           # –§–∏–∫—Å—Ç—É—Ä—ã pytest
‚îî‚îÄ‚îÄ pytest.ini           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ pytest
```

## üè∑Ô∏è –ú–∞—Ä–∫–∏ —Ç–µ—Å—Ç–æ–≤

- `@pytest.mark.smoke` - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- `@pytest.mark.regression` - –ü–æ–ª–Ω—ã–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

```bash
# –¢–æ–ª—å–∫–æ smoke —Ç–µ—Å—Ç—ã
python -m pytest -m smoke

# –¢–æ–ª—å–∫–æ regression —Ç–µ—Å—Ç—ã  
python -m pytest -m regression
```

## üöÄ CI/CD Pipeline

### Pull Request Flow
1. **üî• Smoke Tests** - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (10 —Å–µ–∫)
2. **üîÑ Regression Tests** - –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω)
3. **üéØ Full Test Suite** - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (45 –º–∏–Ω)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—É—Å–∫–∏
- ‚úÖ Pull Request ‚Üí –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- ‚úÖ Push –≤ main ‚Üí –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞  
- ‚úÖ Nightly ‚Üí –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

## üìà –û—Ç—á–µ—Ç—ã

- **GitHub Actions**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **Allure Reports**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á–µ—Ç—ã —Å —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏
- **Artifacts**: –°–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤
1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ñ–∞–π–ª–µ
2. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ö–æ–¥—è—â—É—é –º–∞—Ä–∫—É (`@pytest.mark.smoke` –∏–ª–∏ `@pytest.mark.regression`)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
4. –°–æ–∑–¥–∞—Ç—å Pull Request

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```python
@pytest.mark.smoke
@allure.title("–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞")
@allure.description("–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ")
@allure.severity(allure.severity_level.CRITICAL)
def test_example(app, test_user):
    # –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥
    pass
```



## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ü–∏—è

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞—Ç—å feature branch
3. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
4. –°–æ–∑–¥–∞—Ç—å Pull Request
5. –î–æ–∂–¥–∞—Ç—å—Å—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è CI/CD

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 65 —Ç–µ—Å—Ç–æ–≤
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 
  - Smoke: ~10 —Å–µ–∫—É–Ω–¥
  - Regression: ~30 –º–∏–Ω—É—Ç
  - Full: ~45 –º–∏–Ω—É—Ç
- **–ë—Ä–∞—É–∑–µ—Ä—ã**: 3 (Chromium, Firefox, WebKit)
- **–û–∫—Ä—É–∂–µ–Ω–∏—è**: 2 (dev, stage)

---

Made with ‚ù§Ô∏è for automated testing
